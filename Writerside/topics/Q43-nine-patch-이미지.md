# Q43) nine-patch 이미지

## Nine-patch 이미지의 용도는 무엇인가요? {#what-is-nine-patch}

Nine-patch 이미지는 화질 저하 없이 늘리거나 축소할 수 있도록 특별히 포맷된 PNG 이미지로, Android에서 유연하고 적응 가능한 UI 컴포넌트를 만드는 데 필수적인 도구입니다. 주로 다양한 화면 크기와 콘텐츠 크기에 맞춰 동적으로 크기를 조정해야 하는 버튼, 배경, 컨테이너 등의 요소에 사용됩니다.

### Nine-patch 이미지란? {#about-nine-patch}

Nine-patch 이미지는 일반 PNG 이미지와 달리 이미지의 특정 영역을 늘릴 수 있도록 설계된 특수한 형식의 이미지입니다. 이미지 파일명에 `.9.png` 확장자를 사용하며, 이미지 가장자리에 검은색 가이드 라인을 통해 늘어날 수 있는 영역과 콘텐츠가 배치될 영역을 정의합니다. 이를 통해 버튼이나 말풍선 같은 UI 요소가 다양한 콘텐츠 길이에 맞춰 자연스럽게 확장되면서도 모서리나 테두리의 형태는 그대로 유지할 수 있습니다.

### Nine-patch 이미지의 주요 특징 {#key-features}

#### 1. 늘어날 수 있는 영역 (Stretchable Areas)

Nine-patch 이미지는 이미지 최외곽 1픽셀 테두리에 검은색 라인(가이드)을 사용하여 늘어날 수 있는 영역을 정의합니다. 이 검은색 라인이 표시된 부분은 이미지 크기가 변경될 때 늘어나거나 축소되며, 나머지 부분은 원래 크기를 유지합니다. 예를 들어, 버튼의 모서리는 그대로 유지하면서 가운데 영역만 늘어나도록 설정할 수 있습니다.

#### 2. 콘텐츠 영역 정의 (Content Area Definition)

검은색 라인은 또한 이미지 내부의 콘텐츠 영역을 지정하는 역할도 합니다. 이를 통해 텍스트나 다른 UI 요소가 drawable 내에서 올바르게 정렬되도록 보장합니다. 오른쪽과 아래쪽 테두리의 검은색 라인이 콘텐츠가 배치될 수 있는 안전한 영역을 나타냅니다.

#### 3. 동적 크기 조정 (Dynamic Resizing)

Nine-patch 이미지는 비례적으로 크기가 조정되어, 다양한 화면 크기를 가진 기기에서도 UI 요소가 세련된 모습을 유지할 수 있도록 합니다. 콘텐츠의 양이 늘어나거나 줄어들어도 이미지가 자연스럽게 확장되거나 축소됩니다.

### Nine-patch 이미지 사용 예제 {#usage-example}

다음 코드는 버튼의 배경으로 nine-patch 이미지를 사용하는 방법을 보여줍니다.

```xml
<Button
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/button_background.9"
    android:text="Click Me" />
```
{title="button_layout.xml"}

위 예제에서 `button_background.9.png` 파일은 버튼의 배경으로 사용되며, 버튼의 텍스트 길이나 크기가 변경되어도 자연스럽게 늘어납니다.

### Nine-patch 이미지 생성 방법 {#creating-nine-patch}

Nine-patch 이미지를 생성하려면 Android Studio의 내장 Draw 9-patch 도구를 사용할 수 있습니다. 일반 PNG 이미지를 열어서 늘어날 영역과 콘텐츠 영역을 정의하는 검은색 라인을 추가한 후, `.9.png` 확장자로 저장하면 됩니다. 도구는 실시간으로 프리뷰를 제공하여 다양한 크기에서 이미지가 어떻게 보일지 확인할 수 있습니다.

### Nine-patch 이미지의 한계 {#limitations}

#### 1. 수동 생성 필요

Nine-patch 이미지는 적절한 확장과 정렬을 보장하기 위해 신중한 생성과 테스트가 필요합니다. 검은색 가이드 라인을 정확하게 배치해야 하며, 다양한 크기에서 테스트하여 의도한 대로 늘어나는지 확인해야 합니다.

#### 2. 제한된 사용 사례

Nine-patch 이미지는 직사각형이나 정사각형 요소에 가장 적합하며, 복잡하거나 불규칙한 형태에는 효과적이지 않습니다. 원형이나 복잡한 곡선을 가진 UI 요소에는 VectorDrawable이나 ShapeDrawable을 사용하는 것이 더 적합할 수 있습니다.

### 요약 {#summary}

Nine-patch 이미지는 Android에서 확장 가능하고 시각적으로 일관된 UI 컴포넌트를 만들기 위한 유연하고 효율적인 솔루션입니다. 늘어날 수 있는 영역과 콘텐츠 영역을 정의함으로써, 버튼이나 배경과 같은 요소가 다양한 화면 크기와 동적 콘텐츠에 완벽하게 적응하면서도 세련된 외관을 유지할 수 있도록 보장합니다. 특히 다양한 크기의 텍스트나 콘텐츠를 담아야 하는 UI 요소에서 이미지의 품질을 유지하면서 유연한 레이아웃을 구현할 수 있는 강력한 도구입니다.

<deflist collapsible="true" default-state="collapsed">
<def title="Q) Nine-patch 이미지는 일반 PNG 이미지와 어떻게 다르며, 어떤 시나리오에서 Nine-patch 이미지를 사용해야 하나요?">

Nine-patch 이미지는 일반 PNG 이미지와 다르게 이미지의 특정 영역만 늘어나도록 설정할 수 있습니다. 일반 PNG를 확대하면 전체 이미지가 균일하게 늘어나면서 모서리나 테두리가 왜곡될 수 있지만, nine-patch 이미지는 가이드 라인을 통해 늘어날 영역과 고정될 영역을 분리하여 품질 저하 없이 크기를 조정할 수 있습니다.

Nine-patch 이미지를 사용해야 하는 주요 시나리오는 다음과 같습니다.

첫째, 다양한 길이의 텍스트를 포함하는 버튼이나 레이블을 디자인할 때입니다. 버튼의 텍스트가 짧을 수도 있고 길 수도 있을 때, nine-patch를 사용하면 버튼의 모서리는 그대로 유지하면서 가운데 부분만 늘어나게 할 수 있습니다.

둘째, 채팅 애플리케이션의 말풍선처럼 콘텐츠 크기에 따라 동적으로 크기가 변하는 컨테이너를 만들 때 유용합니다. 메시지 길이가 다양한 채팅 말풍선은 nine-patch를 사용하여 꼬리 부분이나 모서리의 곡선은 유지하면서 콘텐츠 영역만 확장할 수 있습니다.

셋째, 다양한 화면 크기와 밀도를 가진 Android 기기에서 일관된 UI를 제공해야 할 때입니다. 여러 해상도의 이미지를 따로 만들 필요 없이 하나의 nine-patch 이미지로 다양한 크기에 대응할 수 있어 리소스 관리가 효율적입니다.

반면, 고정된 크기의 아이콘이나 로고처럼 크기 조정이 필요 없는 경우, 또는 복잡한 형태나 불규칙한 모양의 UI 요소에는 일반 PNG나 VectorDrawable을 사용하는 것이 더 적합합니다.

</def>
</deflist>
